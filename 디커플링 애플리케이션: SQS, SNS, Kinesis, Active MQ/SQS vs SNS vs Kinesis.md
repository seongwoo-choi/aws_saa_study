# SQS vs SNS vs Kinesis

### SQS

- SQS 는 consumer 가 SQS 대기열에서 데이터를 가져오고 해당 데이터를 대기열에서 삭제하여 다른 consumer 들이 다시는 읽을 수 없게 한다.
- SQS 는 완전 관리형(서버리스) 서비스이므로 처리량을 미리 프로비저닝 할 필요가 없고 많은 수의 메시지를 빠르게 스케일링할 수 있다.
- 메시지 순서를 보장하는 FIFO 대기열이 존재한다.
- 개별 메시지 지연 능력이 있어서 특정 시간 후에 대기열의 메시지를 consumer 가 확인하게 할 수 있다.

### SNS

- pub / sub 모델을 사용하고 퍼블리셔가 데이터를 푸시하면 해당 Topic 을 구독하고있는 모든 subscribe 들에게 데이터가 전송된다.
- SNS 토픽 당 최대 구독자 수는 12,500,000 명이고 데이터가 SNS 로 보내진 후에는 사라진다.
- Topic 의 수는 100,000 개로 제한된다.
- 완전 관리형(서버리스) 서비스이며 팬아웃 아키텍쳐를 사용하여 SQS 와 결합하는 것도 가능하다.
- SNS FIFO 토픽을 SQS FIFO 대기열이 있는 SNS 와 결합할 수 있다.

### Kinesis

- 소비자가 Kinesis 에서 데이터를 끌어오는 스탠다드한 형태는 샤드당 1초에 2MB 를 처리할 수 있다.
- 샤드의 양이 늘어날 수록 처리할 수 있는 데이터 양이 많아진다.
- 실시간 데이터, 분석, ETL 등에 처리된다.
- 샤드 레벨에서 순서가 지정되므로 미리 Kinesis 데이터 스트림에서 필요한 샤드를 지정할 수 있다.
- 데이터는 1일에서 365일 사이 보관할 수 있고 기본은 1일로 잡혀있다.
- 앞선 두 녀석들과는 다르게 처리량을 프로비저닝해야 하며 Kinesis 는 샤드로 구성되어 있고 처리량을 높이기 위해서는 샤드를 추가해야 한다.
- 오토 스케일링을 사용할 수 없다.