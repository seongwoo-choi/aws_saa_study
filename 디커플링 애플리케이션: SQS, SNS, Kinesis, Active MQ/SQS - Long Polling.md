# Long Polling

- consumer 가 대기열에 메시지를 요청하는데 대기열에 메시지가 없으면 메시지가 도착할 때 까지 기다리고 이를 Long Polling 이라고 부른다.
- 롱 폴링을 하는 이유는 두가지이다.
  1. 지연 시간을 줄이기 위해서
  2. SQS 로 보내는 API 호출을 줄이기 위해서
- 최대 20초 동안 폴링하는 consumer 가 있다. 대기열이 비어있다면 20초 동안 기다리겠다는 것, 20초 내에 메시지가 도착하면 consumer 는 해당 메시지를 폴링해간다. 만약 20초가 넘어도 메시지가 도착하지 않으면 다시 폴링하는 API 를 요청하게 된다.
- 롱 폴링을 구성하는 방법은 두가지가 있다.
  1. 대기열 레벨에서 폴링하러 오는 consumer 들에게 롱 폴링을 활성화 시킨다.
  2. WaitTimeSeconds 를 지정하여 consumer 가 롱 폴링을 하도록 설정할 수 있다.